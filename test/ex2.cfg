process PROD = {

//      service = Timing { }

//      service = SimpleMemoryCheck {
//              untracked int32 ignoreTotal = -1 # default is one
//      }

// source of MC events
include "HLTrigger/HLTexample/test/source.cfi"
replace FlatRandomPtGunSource.maxEvents = 2

// fast simulation/reconstruction based on MC truth
// include "HLTrigger/HLTexample/test/simrec.cfi"

include "L1Trigger/L1ExtraFromMCTruthProd/data/l1extra-from-mctruth.cff"
        module simrec = HLTProdCand {
                InputTag jetsTag = midPointCone5GenJets
                InputTag metsTag = genMet
        }
sequence doSimRec = {l1extraGen, simrec}


        module l1extratest = L1ExtraTestAnalyzer {
                string src = "l1extraprod"
        }


        path p = {doSimRec, l1extratest}
        endpath end = {out}

// Want trigger table summary in log file & results object
// with specified triggers

        untracked PSet options = {
           untracked bool wantSummary = true  # default is false
           untracked bool makeTriggerResults = true 
        }


// Writing out the data structures

        module out = PoolOutputModule {
          untracked string fileName = 'file:HLToutput.root'
          untracked PSet SelectEvents = {
          vstring SelectEvents = { "*" }
          }
        }

}
